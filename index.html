<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Generador de Reportes - Marketing View</title>
  <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #FFA947 0%, #FF8C1A 50%, #FF9933 100%);
      min-height: 100vh;
      padding: 20px;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
      background: white;
      border-radius: 16px;
      padding: 40px;
      box-shadow: 0 20px 60px rgba(0,0,0,0.3);
    }
    h1 { 
      color: #333; 
      margin-bottom: 30px; 
      font-size: 32px; 
      text-align: center;
    }
    
    .company-selector {
      margin: 30px 0;
      padding: 30px;
      background: linear-gradient(135deg, #f5f7fa 0%, #e8ecf1 100%);
      border-radius: 12px;
    }
    .company-selector h2 {
      color: #333;
      margin-bottom: 20px;
      font-size: 24px;
      text-align: center;
    }
    .company-buttons {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
    }
    .company-btn {
      background: white;
      color: #333;
      padding: 30px;
      border: 3px solid #ddd;
      border-radius: 12px;
      font-size: 18px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      text-align: center;
    }
    .company-btn:hover {
      transform: translateY(-4px);
      box-shadow: 0 8px 20px rgba(0,0,0,0.1);
      border-color: #00BFFF;
    }
    .company-btn.selected {
      background: linear-gradient(135deg, #00BFFF 0%, #00A3E0 100%);
      color: white;
      border-color: #00BFFF;
    }
    
    .generate-button {
      background: linear-gradient(135deg, #00BFFF 0%, #00A3E0 100%);
      color: white;
      padding: 20px 50px;
      border: none;
      border-radius: 12px;
      font-size: 20px;
      font-weight: 700;
      cursor: pointer;
      width: 100%;
      margin: 30px 0;
      box-shadow: 0 4px 15px rgba(0, 191, 255, 0.4);
      transition: all 0.3s;
      display: none;
    }
    .generate-button.active {
      display: block;
    }
    .generate-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(0, 191, 255, 0.6);
    }
    .generate-button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }
    
    .status {
      margin-top: 20px;
      padding: 15px;
      border-radius: 8px;
      display: none;
      text-align: center;
      font-weight: 500;
    }
    .status.loading { background: #e3f2fd; color: #1976d2; display: block; }
    .status.success { background: #e8f5e9; color: #2e7d32; display: block; }
    
    .results {
      margin-top: 30px;
      padding: 30px;
      background: #f8f9fa;
      border-radius: 12px;
      display: none;
    }
    .results h2 {
      color: #00BFFF;
      margin-bottom: 20px;
      font-size: 24px;
    }
    .report-content {
      background: white;
      padding: 40px;
      border-radius: 10px;
      line-height: 2;
      color: #333;
      font-size: 15px;
      white-space: pre-wrap;
    }
    
    .charts-section {
      background: white;
      padding: 30px;
      border-radius: 10px;
      margin-top: 30px;
    }
    .chart-container {
      margin-bottom: 40px;
      background: white;
      padding: 20px;
      border-radius: 8px;
    }
    
    .download-btn {
      display: inline-block;
      background: #4caf50;
      color: white;
      padding: 14px 30px;
      border-radius: 8px;
      text-decoration: none;
      margin-top: 20px;
      font-weight: 600;
    }
    
    .back-btn {
      background: #666;
      color: white;
      padding: 12px 24px;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      margin-bottom: 20px;
      transition: all 0.3s;
    }
    .back-btn:hover {
      background: #555;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>üìä Generador de Reportes - Marketing View</h1>
    
    <div class="company-selector" id="companySelector">
      <h2>Selecciona la Empresa</h2>
      <div class="company-buttons">
        <button class="company-btn" onclick="selectCompany('adiestra')">
          üêæ Adiestra<br>
          <small style="font-size: 14px; font-weight: 400;">Educaci√≥n Canina</small>
        </button>
        <button class="company-btn" onclick="selectCompany('dentalcrea')">
          ü¶∑ DentalCrea<br>
          <small style="font-size: 14px; font-weight: 400;">Cl√≠nica Dental</small>
        </button>
      </div>
    </div>
    
    <button class="generate-button" id="generateBtn" onclick="generateReport()">
      üöÄ Generar Reporte de Diciembre 2025
    </button>
    
    <div id="status" class="status"></div>
    
    <div id="results" class="results">
      <button class="back-btn" onclick="backToSelection()">‚Üê Volver a Selecci√≥n de Empresa</button>
      <h2>üìÑ Reporte Generado</h2>
      <div id="reportContent" class="report-content"></div>
      
      <div class="charts-section">
        <h3 style="color: #00BFFF; margin-bottom: 20px;">üìà Gr√°ficas de Rendimiento</h3>
        <div class="chart-container" id="chartFacebook"></div>
        <div class="chart-container" id="chartInstagramReach"></div>
        <div class="chart-container" id="chartInstagramImpressions"></div>
      </div>
      
      <a id="downloadLink" class="download-btn" style="display: none;">üì• Descargar Reporte</a>
    </div>
  </div>

  <script>
    let selectedCompany = null;
    
    const companiesData = {
      adiestra: {
        company: "Adiestra",
        currentMonth: {
          month: 12,
          year: 2025,
          
          // Facebook - Diciembre
          fb_followers_current: 2544,
          fb_followers_previous: 2541,
          fb_new_followers: 3,
          fb_unfollows: 0,
          fb_views_current: 979,
          fb_views_previous: 31472,
          fb_reach_current: 533,
          fb_reach_previous: 23914,
          fb_interactions_current: 10,
          fb_interactions_previous: 1594,
          fb_best_posts: [
            "Una buena convivencia en casa con tu peludo",
            "üêæ A veces pueden poner a prueba tu paciencia con sus travesuras...",
            "‚ú® La confianza no aparece de un d√≠a para otro... se construye paso a paso",
            "üëâüèº ¬øQu√© llevar al paseo con tu peludo?"
          ],
          
          // Instagram - Diciembre
          ig_followers_current: 1878,
          ig_followers_previous: 1876,
          ig_new_followers: 2,
          ig_unfollows: 0,
          ig_views_current: 96,
          ig_views_previous: 4836,
          ig_reach_current: 2036,
          ig_reach_previous: 1150,
          ig_interactions_current: 70,
          ig_interactions_previous: 99,
          ig_likes_posts: 31,
          ig_likes_reels: 12,
          ig_saves_posts: 1,
          ig_saves_reels: 0,
          ig_shares_posts: 1,
          ig_shares_reels: 4,
          ig_impressions_posts: 2036,
          ig_impressions_total: 2243,
          ig_views_reels: 2036,
          ig_profile_visits: 102,
          ig_best_post: "Mejor Post: 371 visualizaciones",
          ig_best_reel: "Mejor Reel: 320 visualizaciones"
        },
        
        historical: {
          fb_interactions: [113, 114, 138, 116, 117, 111, 114, 113, 114, 1481, 1594, 10],
          fb_reach: [146, 112, 171, 116, 141, 136, 112, 136, 131, 19476, 23914, 533],
          ig_reach: [502, 1251, 1756, 636, 1119, 961, 682, 1902, 1595, 1347, 1150, 2036],
          ig_visits: [55, 416, 131, 182, 97, 101, 119, 352, 258, 195, 99, 102],
          ig_impressions: [3130, 5427, 5746, 2433, 2971, 2578, 2669, 9097, 6877, 6401, 4836, 2243]
        }
      },
      
      dentalcrea: {
        company: "DentalCrea",
        currentMonth: {
          month: 12,
          year: 2025,
          
          // Facebook - Diciembre
          fb_followers_current: 180,
          fb_followers_previous: 180,
          fb_new_followers: 0,
          fb_unfollows: 0,
          fb_views_current: 482,
          fb_views_previous: 338,
          fb_reach_current: 166,
          fb_reach_previous: 45,
          fb_interactions_current: 4,
          fb_interactions_previous: 5,
          fb_best_posts: [
            "¬øNecesitas m√°s razones para sonre√≠r?",
            "üë∂ü¶∑ La sonrisa de tu hijo merece el mejor cuidado",
            "Comparaciones de inicio y final"
          ],
          
          // Instagram - Diciembre
          ig_followers_current: 1145,
          ig_followers_previous: 1145,
          ig_new_followers: 0,
          ig_unfollows: 0,
          ig_views_current: 11895,
          ig_views_previous: 11895,
          ig_reach_current: 781,
          ig_reach_previous: 781,
          ig_interactions_current: 54,
          ig_interactions_previous: 54,
          ig_likes_posts: 7,
          ig_likes_reels: 82,
          ig_saves_posts: 0,
          ig_saves_reels: 12,
          ig_shares_posts: 1,
          ig_shares_reels: 2,
          ig_impressions_posts: 589,
          ig_impressions_total: 11895,
          ig_views_reels: 11306,
          ig_profile_visits: 59,
          ig_best_post: "Mejor Post: 589 visualizaciones",
          ig_best_reel: "Mejor Reel: 3,579 visualizaciones"
        },
        
        historical: {
          fb_interactions: [3, 6, 10, 11, 9, 12, 14, 5, 4],
          fb_reach: [156, 109, 83, 126, 91, 116, 83, 45, 166],
          ig_reach: [1817, 2235, 1861, 2128, 1735, 1420, 1283, 781, 781],
          ig_visits: [237, 213, 296, 210, 249, 247, 176, 59, 59],
          ig_impressions: [9618, 10486, 10296, 9940, 9539, 8741, 8092, 11895, 11895]
        }
      }
    };
    
    const monthNames = ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'];
    
    function selectCompany(company) {
      selectedCompany = company;
      
      document.querySelectorAll('.company-btn').forEach(btn => {
        btn.classList.remove('selected');
      });
      event.target.closest('.company-btn').classList.add('selected');
      
      document.getElementById('generateBtn').classList.add('active');
    }
    
    function backToSelection() {
      document.getElementById('results').style.display = 'none';
      document.getElementById('companySelector').style.display = 'block';
      document.getElementById('generateBtn').classList.add('active');
      document.getElementById('status').className = 'status';
    }
    
    function generateReport() {
      if (!selectedCompany) {
        alert('Por favor selecciona una empresa primero');
        return;
      }
      
      const status = document.getElementById('status');
      const results = document.getElementById('results');
      const companySelector = document.getElementById('companySelector');
      const generateBtn = document.getElementById('generateBtn');
      
      status.className = 'status loading';
      status.textContent = '‚è≥ Generando reporte...';
      companySelector.style.display = 'none';
      generateBtn.style.display = 'none';
      
      setTimeout(() => {
        const reportData = companiesData[selectedCompany];
        const report = generateReportText(reportData);
        
        document.getElementById('reportContent').textContent = report;
        results.style.display = 'block';
        
        generateCharts(reportData);
        
        const blob = new Blob([report], { type: 'text/plain' });
        const url = URL.createObjectURL(blob);
        const downloadLink = document.getElementById('downloadLink');
        downloadLink.href = url;
        downloadLink.download = `reporte_diciembre_2025_${reportData.company}.txt`;
        downloadLink.style.display = 'inline-block';
        
        status.className = 'status success';
        status.textContent = '‚úÖ Reporte generado exitosamente!';
        
        results.scrollIntoView({ behavior: 'smooth' });
      }, 1000);
    }
    
    function generateReportText(data) {
      const d = data.currentMonth;
      
      if (data.company === "Adiestra") {
        return `# RESUMEN DEL MES

Durante diciembre de 2025, se observ√≥ un comportamiento de transici√≥n en las redes sociales de ${data.company}. Facebook experiment√≥ una disminuci√≥n significativa en todas las m√©tricas tras el pico excepcional de noviembre, regresando a niveles m√°s cercanos a los primeros meses del a√±o. Instagram mostr√≥ una recuperaci√≥n importante en alcance y mantuvo m√©tricas estables, reflejando la capacidad de la plataforma para mantener su comunidad activa incluso con fluctuaciones en el contenido publicado.

## SEGUIDORES REDES SOCIALES

### Facebook:
- Noviembre: ${d.fb_followers_previous.toLocaleString()}
- Diciembre: ${d.fb_followers_current.toLocaleString()}
- Aumento de seguidores: ${d.fb_new_followers}
- Dejaron de seguirte: ${d.fb_unfollows}

### Instagram:
- Noviembre: ${d.ig_followers_previous.toLocaleString()}
- Diciembre: ${d.ig_followers_current.toLocaleString()}
- Aumento de seguidores: ${d.ig_new_followers}
- Dejaron de seguirte: ${d.ig_unfollows}

## MEJORES POSTS

### Diciembre, Facebook:
${d.fb_best_posts.map(post => `- ${post}`).join('\n')}

### Diciembre, Instagram:
- ${d.ig_best_post}
- ${d.ig_best_reel}

## VISUALIZACIONES

### Facebook:
- Noviembre: ${d.fb_views_previous.toLocaleString()}
- Diciembre: ${d.fb_views_current.toLocaleString()}

### Instagram:
- Noviembre: ${d.ig_views_previous.toLocaleString()}
- Diciembre: ${d.ig_views_current.toLocaleString()}

**CONCLUSIONES:**

Facebook registr√≥ una disminuci√≥n dr√°stica, descendiendo de ${d.fb_views_previous.toLocaleString()} visualizaciones en noviembre a ${d.fb_views_current.toLocaleString()} en diciembre. Este comportamiento es natural despu√©s del pico excepcional del mes anterior y representa un retorno a niveles m√°s consistentes con el hist√≥rico de la marca. Instagram experiment√≥ una baja significativa, pasando de ${d.ig_views_previous.toLocaleString()} a ${d.ig_views_current.toLocaleString()}, lo cual es t√≠pico cuando se reduce la frecuencia o el formato del contenido din√°mico.

## ALCANCE

### Facebook:
- Noviembre: ${d.fb_reach_previous.toLocaleString()}
- Diciembre: ${d.fb_reach_current.toLocaleString()}

### Instagram:
- Noviembre: ${d.ig_reach_previous.toLocaleString()}
- Diciembre: ${d.ig_reach_current.toLocaleString()}

**CONCLUSIONES:**

Facebook experiment√≥ una ca√≠da considerable, regresando de ${d.fb_reach_previous.toLocaleString()} a ${d.fb_reach_current.toLocaleString()}, lo que indica que despu√©s del comportamiento excepcional de noviembre, la plataforma retorn√≥ a sus patrones normales de distribuci√≥n. Instagram mostr√≥ una recuperaci√≥n notable, incrementando su alcance de ${d.ig_reach_previous.toLocaleString()} a ${d.ig_reach_current.toLocaleString()}, demostrando que el contenido logr√≥ circular mejor dentro de la comunidad y lleg√≥ a audiencias nuevas.

## INTERACCIONES

### Facebook:
- Noviembre: ${d.fb_interactions_previous.toLocaleString()}
- Diciembre: ${d.fb_interactions_current.toLocaleString()}

### Instagram:
- Noviembre: ${d.ig_interactions_previous}
- Diciembre: ${d.ig_interactions_current}
- Me gusta en Posts: ${d.ig_likes_posts}
- Me gusta en Reels: ${d.ig_likes_reels}
- Guardados en Posts: ${d.ig_saves_posts}
- Guardados en Reels: ${d.ig_saves_reels}
- Compartidos en Posts: ${d.ig_shares_posts}
- Compartidos en Reels: ${d.ig_shares_reels}

**CONCLUSIONES:**

Facebook mostr√≥ una reducci√≥n importante en la interacci√≥n, bajando de ${d.fb_interactions_previous.toLocaleString()} a ${d.fb_interactions_current}, lo que refleja el retorno a la normalidad despu√©s del mes excepcional anterior. Instagram registr√≥ una ligera disminuci√≥n, pasando de ${d.ig_interactions_previous} a ${d.ig_interactions_current}, pero mantiene niveles saludables de participaci√≥n que indican una audiencia comprometida.

---

# CONCLUSIONES FINALES

**An√°lisis del comportamiento mensual:**

El mes de diciembre represent√≥ una normalizaci√≥n despu√©s del comportamiento excepcional observado en noviembre. Facebook experiment√≥ una ca√≠da significativa en todas sus m√©tricas, regresando a niveles m√°s cercanos a los primeros meses del a√±o, lo cual es consistente con el ciclo natural de la plataforma y refleja que el pico de noviembre fue un evento extraordinario. Instagram, por su parte, mostr√≥ una recuperaci√≥n importante en alcance y mantuvo m√©tricas estables, confirmando que la plataforma mantiene su capacidad de engagement cuando se mantiene una presencia constante.

**Facebook:**
- Despu√©s del mes excepcional de noviembre, la plataforma retorn√≥ a sus niveles normales de rendimiento, lo cual es un comportamiento esperado y no debe interpretarse como un retroceso, sino como una estabilizaci√≥n.
- Los n√∫meros de diciembre se alinean mejor con el hist√≥rico de la marca durante el primer trimestre del a√±o, mostrando que el patr√≥n de comportamiento de Facebook tiene fluctuaciones naturales.
- La disminuci√≥n significativa en todas las m√©tricas indica que la audiencia volvi√≥ a sus patrones habituales de consumo despu√©s del periodo de alta actividad.
- A pesar de la ca√≠da, Facebook mantiene su posici√≥n como plataforma importante para la visibilidad org√°nica de ${data.company}.

**Instagram:**
- Mostr√≥ resiliencia y capacidad de recuperaci√≥n, especialmente en alcance, aumentando casi el doble respecto al mes anterior.
- Las visitas al perfil se mantuvieron estables, lo que indica que la comunidad sigue interesada en conocer m√°s sobre la marca.
- La plataforma confirm√≥ que puede mantener m√©tricas saludables incluso cuando las visualizaciones disminuyen, lo cual habla de una audiencia comprometida.
- El incremento en alcance demuestra que el contenido publicado logr√≥ circular mejor y llegar a personas nuevas, lo que es positivo para el crecimiento org√°nico.

**En conjunto:**

El cierre del a√±o muestra un comportamiento mixto pero dentro de par√°metros esperados. Facebook tuvo un mes excepcional en noviembre que no se replic√≥ en diciembre, mientras que Instagram demostr√≥ capacidad de recuperaci√≥n y mantuvo m√©tricas saludables. La marca cierra 2025 con una comunidad consolidada en ambas plataformas y un aprendizaje claro sobre los patrones de comportamiento: Facebook tiene mayor variabilidad con picos significativos, mientras Instagram mantiene mayor estabilidad cuando se preserva la constancia en el contenido. Para 2026, el enfoque debe estar en mantener la l√≠nea editorial que ha funcionado, aprovechar los formatos que generan mayor engagement en Instagram, y buscar replicar los factores que causaron el pico de noviembre en Facebook.`;
      } else {
        return `# RESUMEN DEL MES

Durante diciembre de 2025, se observ√≥ un comportamiento de recuperaci√≥n parcial en las redes sociales de ${data.company}. Facebook mostr√≥ mejoras notables en visualizaciones y alcance despu√©s de la ca√≠da de noviembre, mientras que Instagram mantuvo m√©tricas estables, reflejando la consolidaci√≥n de la comunidad y la consistencia del contenido visual que caracteriza a la marca.

## SEGUIDORES REDES SOCIALES

### Facebook:
- Noviembre: ${d.fb_followers_previous.toLocaleString()}
- Diciembre: ${d.fb_followers_current.toLocaleString()}
- Aumento de seguidores: ${d.fb_new_followers}
- Dejaron de seguirte: ${d.fb_unfollows}

### Instagram:
- Noviembre: ${d.ig_followers_previous.toLocaleString()}
- Diciembre: ${d.ig_followers_current.toLocaleString()}
- Aumento de seguidores: ${d.ig_new_followers}
- Dejaron de seguirte: ${d.ig_unfollows}

## MEJORES POSTS

### Diciembre, Facebook:
${d.fb_best_posts.map(post => `- ${post}`).join('\n')}

### Diciembre, Instagram:
- ${d.ig_best_post}
- ${d.ig_best_reel}

## VISUALIZACIONES

### Facebook:
- Noviembre: ${d.fb_views_previous.toLocaleString()}
- Diciembre: ${d.fb_views_current.toLocaleString()}

### Instagram:
- Noviembre: ${d.ig_views_previous.toLocaleString()}
- Diciembre: ${d.ig_views_current.toLocaleString()}

**CONCLUSIONES:**

Facebook registr√≥ un aumento importante, pasando de ${d.fb_views_previous.toLocaleString()} visualizaciones en noviembre a ${d.fb_views_current.toLocaleString()} en diciembre, indicando que el contenido recuper√≥ tracci√≥n y gener√≥ mayor retenci√≥n. Instagram se mantuvo estable en ${d.ig_views_current.toLocaleString()} visualizaciones, demostrando que el formato visual contin√∫a siendo atractivo y mantiene la atenci√≥n del p√∫blico, especialmente con el uso de reels din√°micos.

## ALCANCE

### Facebook:
- Noviembre: ${d.fb_reach_previous.toLocaleString()}
- Diciembre: ${d.fb_reach_current.toLocaleString()}

### Instagram:
- Noviembre: ${d.ig_reach_previous.toLocaleString()}
- Diciembre: ${d.ig_reach_current.toLocaleString()}

**CONCLUSIONES:**

Facebook logr√≥ una recuperaci√≥n significativa, incrementando su alcance de ${d.fb_reach_previous.toLocaleString()} a ${d.fb_reach_current.toLocaleString()}, lo que muestra que el contenido circul√≥ mejor y alcanz√≥ a m√°s personas fuera de la base de seguidores existente. Instagram se mantuvo estable en ${d.ig_reach_current.toLocaleString()}, confirmando que la plataforma mantiene su capacidad de llegar a la comunidad establecida con contenido visual de calidad.

## INTERACCIONES

### Facebook:
- Noviembre: ${d.fb_interactions_previous.toLocaleString()}
- Diciembre: ${d.fb_interactions_current.toLocaleString()}

### Instagram:
- Noviembre: ${d.ig_interactions_previous}
- Diciembre: ${d.ig_interactions_current}
- Me gusta en Posts: ${d.ig_likes_posts}
- Me gusta en Reels: ${d.ig_likes_reels}
- Guardados en Posts: ${d.ig_saves_posts}
- Guardados en Reels: ${d.ig_saves_reels}
- Compartidos en Posts: ${d.ig_shares_posts}
- Compartidos en Reels: ${d.ig_shares_reels}

**CONCLUSIONES:**

Facebook mantuvo un nivel bajo pero estable de interacciones, con ${d.fb_interactions_current} en el mes, lo que refleja que aunque el contenido se visualiz√≥ m√°s, a√∫n necesita elementos que motiven mayor participaci√≥n activa. Instagram registr√≥ ${d.ig_interactions_current} interacciones, manteniendo una comunidad comprometida que responde especialmente bien a los reels educativos sobre ortodoncia.

---

# CONCLUSIONES FINALES

**An√°lisis del comportamiento mensual:**

El mes de diciembre mostr√≥ una recuperaci√≥n importante en Facebook despu√©s de la ca√≠da de noviembre, con aumentos significativos en visualizaciones y alcance que indican que el contenido retom√≥ tracci√≥n con la audiencia. Instagram mantuvo m√©tricas estables, consolidando su posici√≥n como plataforma principal para la marca gracias a su contenido visual especializado en casos cl√≠nicos y educaci√≥n sobre tratamientos dentales.

**Facebook:**
- Experiment√≥ una recuperaci√≥n notable respecto a noviembre, especialmente en alcance, lo que demuestra que el contenido volvi√≥ a circular de manera m√°s efectiva.
- El aumento en visualizaciones sin un incremento proporcional en interacciones sugiere que el contenido est√° siendo consumido pero necesita elementos m√°s llamativos o emocionales para activar respuestas.
- La estabilidad en seguidores indica que la plataforma mantiene su comunidad base, aunque con oportunidad de crecimiento.
- El mes confirma que Facebook tiene potencial para ${data.company}, pero requiere contenido que incentive mayor participaci√≥n activa.

**Instagram:**
- Se consolid√≥ como la plataforma m√°s estable y consistente, manteniendo buenas visualizaciones y alcance sin fluctuaciones dr√°sticas.
- Los reels educativos sobre casos cl√≠nicos contin√∫an siendo el formato m√°s efectivo, generando tanto visualizaciones como guardados, lo que indica contenido de valor.
- La plataforma mantiene una comunidad comprometida que se interesa genuinamente en los tratamientos y transformaciones que muestra la cl√≠nica.
- Las m√©tricas estables demuestran que Instagram es el canal principal para construir autoridad y credibilidad en el sector dental.

**En conjunto:**

El cierre del a√±o muestra una marca que ha logrado estabilizar su presencia digital despu√©s de un periodo de altibajos naturales. Facebook demostr√≥ capacidad de recuperaci√≥n y mantiene potencial de crecimiento si se refuerzan elementos emocionales y llamados a la acci√≥n m√°s claros. Instagram se confirma como la plataforma principal, con contenido visual de calidad que genera confianza y posiciona a ${data.company} como referente en ortodoncia. Para 2026, la estrategia debe enfocarse en mantener la fortaleza visual de Instagram y aprovechar la recuperaci√≥n de Facebook con contenido m√°s interactivo que motive mayor participaci√≥n de la audiencia.`;
      }
    }
    
    function generateCharts(reportData) {
      const months = monthNames.slice(0, 12);
      const hist = reportData.historical;
      
      if (reportData.company === "Adiestra") {
        // Gr√°fica 1: Facebook (Interacciones + Alcance)
        Plotly.newPlot('chartFacebook', [
          {
            x: months,
            y: hist.fb_interactions,
            name: 'Interacci√≥n con la publicaci√≥n',
            type: 'bar',
            marker: { color: '#9b59b6' },
            text: hist.fb_interactions.map(v => v.toString()),
            textposition: 'outside',
            textfont: { size: 10 }
          },
          {
            x: months,
            y: hist.fb_reach,
            name: 'Alcance de las publicaciones',
            type: 'bar',
            marker: { color: '#66cc99' },
            text: hist.fb_reach.map(v => v.toString()),
            textposition: 'outside',
            textfont: { size: 10 }
          }
        ], {
          title: {
            text: 'ESTAD√çSTICAS FACEBOOK - ENE-DICIEMBRE 2025',
            font: { family: 'Arial, sans-serif', size: 16, color: '#333' }
          },
          barmode: 'group',
          height: 450,
          font: { family: 'Arial', size: 12 },
          showlegend: true,
          legend: { x: 0.5, y: -0.2, xanchor: 'center', orientation: 'h' },
          margin: { t: 80, b: 100 }
        });
        
        // Gr√°fica 2: Instagram (Cuentas Alcanzadas + Visitas al Perfil)
        Plotly.newPlot('chartInstagramReach', [
          {
            x: months,
            y: hist.ig_reach,
            name: 'Cuentas alcanzadas',
            type: 'bar',
            marker: { color: '#9b59b6' },
            text: hist.ig_reach.map(v => v.toString()),
            textposition: 'outside',
            textfont: { size: 10 }
          },
          {
            x: months,
            y: hist.ig_visits,
            name: 'Visitas al perfil',
            type: 'bar',
            marker: { color: '#66cc99' },
            text: hist.ig_visits.map(v => v.toString()),
            textposition: 'outside',
            textfont: { size: 10 }
          }
        ], {
          title: {
            text: 'ESTAD√çSTICAS INSTAGRAM - ENE-DICIEMBRE 2025',
            font: { family: 'Arial, sans-serif', size: 16, color: '#333' }
          },
          barmode: 'group',
          height: 450,
          font: { family: 'Arial', size: 12 },
          showlegend: true,
          legend: { x: 0.5, y: -0.2, xanchor: 'center', orientation: 'h' },
          margin: { t: 80, b: 100 }
        });
        
        // Gr√°fica 3: Instagram Impresiones
        Plotly.newPlot('chartInstagramImpressions', [
          {
            x: months,
            y: hist.ig_impressions,
            name: 'Impresiones',
            type: 'bar',
            marker: { color: '#66cc99' },
            text: hist.ig_impressions.map(v => v.toString()),
            textposition: 'outside',
            textfont: { size: 10 }
          }
        ], {
          title: {
            text: 'ESTAD√çSTICAS INSTAGRAM - ENE-DICIEMBRE 2025',
            font: { family: 'Arial, sans-serif', size: 16, color: '#333' }
          },
          height: 450,
          font: { family: 'Arial', size: 12 },
          showlegend: false,
          margin: { t: 80, b: 60 }
        });
      } else {
        // DentalCrea charts (Mayo-Diciembre)
        const dentalMonths = ['Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'];
        
        Plotly.newPlot('chartFacebook', [
          {
            x: dentalMonths,
            y: hist.fb_interactions,
            name: 'Interacci√≥n con la publicaci√≥n',
            type: 'bar',
            marker: { color: '#9b59b6' },
            text: hist.fb_interactions.map(v => v.toString()),
            textposition: 'outside',
            textfont: { size: 10 }
          },
          {
            x: dentalMonths,
            y: hist.fb_reach,
            name: 'Alcance de las publicaciones',
            type: 'bar',
            marker: { color: '#66cc99' },
            text: hist.fb_reach.map(v => v.toString()),
            textposition: 'outside',
            textfont: { size: 10 }
          }
        ], {
          title: {
            text: 'ESTAD√çSTICAS FACEBOOK - MAYO-DICIEMBRE 2025',
            font: { family: 'Arial, sans-serif', size: 16, color: '#333' }
          },
          barmode: 'group',
          height: 450,
          font: { family: 'Arial', size: 12 },
          showlegend: true,
          legend: { x: 0.5, y: -0.2, xanchor: 'center', orientation: 'h' },
          margin: { t: 80, b: 100 }
        });
        
        Plotly.newPlot('chartInstagramReach', [
          {
            x: dentalMonths,
            y: hist.ig_reach,
            name: 'Cuentas alcanzadas',
            type: 'bar',
            marker: { color: '#9b59b6' },
            text: hist.ig_reach.map(v => v.toString()),
            textposition: 'outside',
            textfont: { size: 10 }
          },
          {
            x: dentalMonths,
            y: hist.ig_visits,
            name: 'Visitas al perfil',
            type: 'bar',
            marker: { color: '#66cc99' },
            text: hist.ig_visits.map(v => v.toString()),
            textposition: 'outside',
            textfont: { size: 10 }
          }
        ], {
          title: {
            text: 'ESTAD√çSTICAS INSTAGRAM - MAYO-DICIEMBRE 2025',
            font: { family: 'Arial, sans-serif', size: 16, color: '#333' }
          },
          barmode: 'group',
          height: 450,
          font: { family: 'Arial', size: 12 },
          showlegend: true,
          legend: { x: 0.5, y: -0.2, xanchor: 'center', orientation: 'h' },
          margin: { t: 80, b: 100 }
        });
        
        Plotly.newPlot('chartInstagramImpressions', [
          {
            x: dentalMonths,
            y: hist.ig_impressions,
            name: 'Impresiones',
            type: 'bar',
            marker: { color: '#66cc99' },
            text: hist.ig_impressions.map(v => v.toString()),
            textposition: 'outside',
            textfont: { size: 10 }
          }
        ], {
          title: {
            text: 'ESTAD√çSTICAS INSTAGRAM - MAYO-DICIEMBRE 2025',
            font: { family: 'Arial, sans-serif', size: 16, color: '#333' }
          },
          height: 450,
          font: { family: 'Arial', size: 12 },
          showlegend: false,
          margin: { t: 80, b: 60 }
        });
      }
    }
  </script>
</body>
</html>
